<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet " type="text/css" href="/cses.css?13" id="styles">
  <link rel="stylesheet alternate" type="text/css" href="/cses-dark.css?13" id="styles-dark">
  <meta name="theme-color" content="white" id="theme-color">
  <script type="application/json" id="darkmode-enabled">false</script>
  <script src="/ui.js"></script>
  <link rel="stylesheet" type="text/css" href="/lib/fontawesome/css/all.min.css">
</head>
<body class="with-sidebar ">
  <div class="header">
    <div>
      <a href="/" class="logo"><img src="/logo.png?1" alt="CSES"></a>
      <a class="menu-toggle" onclick="document.body.classList.toggle('menu-open');">
        <i class="fas fa-bars"></i>
      </a>
      <div class="controls">
                <a class="account" href="/login">Login</a>
        <span>&mdash;</span>
                        <a href="/darkmode" title="Toggle dark mode" onclick="return toggle_theme()"><i aria-label="Dark mode" class="fas fa-adjust"></i><span>Dark mode</span></a>
              </div>
    </div>
  </div>
  <div class="skeleton">

  <div class="navigation">
    <div class="title-block">
      <h3><a href="/problemset/list/">CSES Problem Set</a></h3>
      <h1>Room Allocation</h1>
<ul class="nav">
<li><a href="/problemset/task/1164/" class="current">Task</a></li>
<li><a href="/problemset/stats/1164/" >Statistics</a></li>
</ul>
    </div>
    <div class="sidebar"></div>
  </div>

  <div class="content-wrapper">

    <div class="content">


<title>CSES - Room Allocation</title><link rel="stylesheet" href="/lib/katex/katex.min.css">
<script defer src="/lib/katex/katex.min.js"></script>
<script defer src="/lib/katex/contrib/copy-tex.min.js"></script>
<script defer src="/lib/google-code-prettify/run_prettify.js"></script>
<script>
addEventListener("DOMContentLoaded", function (e) {
    const mathElements = document.getElementsByClassName("math");
    const macros = {};
    for (let element of mathElements) {
        katex.render(element.textContent, element, {
            displayMode: element.classList.contains("display"),
            throwOnError: false,
            globalGroup: true,
            macros,
        });
    }
});
</script>
<ul class="task-constraints">
<li><b>Time limit:</b> 1.00 s</li>
<li><b>Memory limit:</b> 512 MB</li>
</ul>
<input type="hidden" name="course" value="problemset">
<input type="hidden" name="task" value="1164">
<div class="md"><p>There is a large hotel, and <span class="math inline">n</span> customers will arrive soon. Each customer wants to have a single room.</p>
<p>You know each customer's arrival and departure day. Two customers can stay in the same room if the departure day of the first customer is earlier than the arrival day of the second customer.</p>
<p>What is the minimum number of rooms that are needed to accommodate all customers? And how can the rooms be allocated?</p>
<h1 id="input">Input</h1>
<p>The first input line contains an integer <span class="math inline">n</span>: the number of customers.</p>
<p>Then there are <span class="math inline">n</span> lines, each of which describes one customer. Each line has two integers <span class="math inline">a</span> and <span class="math inline">b</span>: the arrival and departure day.</p>
<h1 id="output">Output</h1>
<p>Print first an integer <span class="math inline">k</span>: the minimum number of rooms required.</p>
<p>After that, print a line that contains the room number of each customer in the same order as in the input. The rooms are numbered <span class="math inline">1,2,\ldots,k</span>. You can print any valid solution.</p>
<h1 id="constraints">Constraints</h1>
<ul>
<li><span class="math inline">1 \le n \le 2 \cdot 10^5</span></li>
<li><span class="math inline">1 \le a \le b \le 10^9</span></li>
</ul>
<h1 id="example">Example</h1>
<p>Input:</p>
<pre>3
1 2
2 4
4 4
</pre>
<p>Output:</p>
<pre>2
1 2 1
</pre></div>    </div>
    <div class="nav sidebar">
<h4>Sorting and Searching</h4>...
<a  href="/problemset/task/2163">Josephus Problem II<span class="task-score icon "></span></a><a  href="/problemset/task/2168">Nested Ranges Check<span class="task-score icon "></span></a><a  href="/problemset/task/2169">Nested Ranges Count<span class="task-score icon "></span></a><a class="current" href="/problemset/task/1164">Room Allocation<span class="task-score icon "></span></a><a  href="/problemset/task/1620">Factory Machines<span class="task-score icon "></span></a><a  href="/problemset/task/1630">Tasks and Deadlines<span class="task-score icon "></span></a><a  href="/problemset/task/1631">Reading Books<span class="task-score icon "></span></a><a  href="/problemset/task/1641">Sum of Three Values<span class="task-score icon "></span></a>...
<hr />