<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet alternate" type="text/css" href="../../../cses.css@13.css" id="styles">
  <link rel="stylesheet " type="text/css" href="../../../cses-dark.css@13.css" id="styles-dark">
  <meta name="theme-color" content="#292929" id="theme-color">
  <script type="application/json" id="darkmode-enabled">true</script>
  <script src="../../../ui.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../lib/fontawesome/css/all.min.css">
</head>
<body class="with-sidebar ">
  <div class="header">
    <div>
      <a href="../../../darkmode.html" class="logo"><img src="../../../logo.png@1" alt="CSES"></a>
      <a class="menu-toggle" onclick="document.body.classList.toggle('menu-open');">
        <i class="fas fa-bars"></i>
      </a>
      <div class="controls">
                <a class="account" href="../../../login.html">Login</a>
        <span>&mdash;</span>
                        <a href="../../../darkmode.html" title="Toggle dark mode" onclick="return toggle_theme()"><i aria-label="Dark mode" class="fas fa-adjust"></i><span>Dark mode</span></a>
              </div>
    </div>
  </div>
  <div class="skeleton">

  <div class="navigation">
    <div class="title-block">
      <h3><a href="../../list/index.html">CSES Problem Set</a></h3>
      <h1>Movie Festival Queries</h1>
<ul class="nav">
<li><a href="index.html" class="current">Task</a></li>
<li><a href="../../stats/1664/index.html" >Statistics</a></li>
</ul>
    </div>
    <div class="sidebar"></div>
  </div>

  <div class="content-wrapper">

    <div class="content">


<title>CSES - Movie Festival Queries</title><link rel="stylesheet" href="../../../lib/katex/katex.min.css">
<script defer src="../../../lib/katex/katex.min.js"></script>
<script defer src="../../../lib/katex/contrib/copy-tex.min.js"></script>
<script defer src="../../../lib/google-code-prettify/run_prettify.js"></script>
<script>
addEventListener("DOMContentLoaded", function (e) {
    const mathElements = document.getElementsByClassName("math");
    const macros = {};
    for (let element of mathElements) {
        katex.render(element.textContent, element, {
            displayMode: element.classList.contains("display"),
            throwOnError: false,
            globalGroup: true,
            macros,
        });
    }
});
</script>
<ul class="task-constraints">
<li><b>Time limit:</b> 1.00 s</li>
<li><b>Memory limit:</b> 512 MB</li>
</ul>
<input type="hidden" name="course" value="problemset">
<input type="hidden" name="task" value="1664">
<div class="md"><p>In a movie festival, <span class="math inline">n</span> movies will be shown. You know the starting and ending time of each movie.</p>
<p>Your task is to process <span class="math inline">q</span> queries of the form: if you arrive and leave the festival at specific times, what is the maximum number of movies you can watch?</p>
<p>You can watch two movies if the first movie ends before or exactly when the second movie starts. You can start the first movie exactly when you arrive and leave exactly when the last movie ends.</p>
<h1 id="input">Input</h1>
<p>The first input line has two integers <span class="math inline">n</span> and <span class="math inline">q</span>: the number of movies and queries.</p>
<p>After this, there are <span class="math inline">n</span> lines describing the movies. Each line has two integers <span class="math inline">a</span> and <span class="math inline">b</span>: the starting and ending time of a movie.</p>
<p>Finally, there are <span class="math inline">q</span> lines describing the queries. Each line has two integers <span class="math inline">a</span> and <span class="math inline">b</span>: your arrival and leaving time.</p>
<h1 id="output">Output</h1>
<p>Print the maximum number of movies for each query.</p>
<h1 id="constraints">Constraints</h1>
<ul>
<li><span class="math inline">1 \le n,q \le 2 \cdot 10^5</span></li>
<li><span class="math inline">1 \le a &lt; b \le 10^6</span></li>
</ul>
<h1 id="example">Example</h1>
<p>Input:</p>
<pre>4 3
2 5
6 10
4 7
9 10
5 9
2 10
7 10
</pre>
<p>Output:</p>
<pre>0
2
1
</pre></div>    </div>
    <div class="nav sidebar">
<h4>Additional Problems</h4>...
<a  href="../2186.html">Special Substrings<span class="task-score icon "></span></a><a  href="../2229.html">Permutation Inversions<span class="task-score icon "></span></a><a  href="../1655.html">Maximum Xor Subarray<span class="task-score icon "></span></a><a class="current" href="../1664.html">Movie Festival Queries<span class="task-score icon "></span></a><a  href="../1697.html">Chess Tournament<span class="task-score icon "></span></a><a  href="../1702.html">Tree Traversals<span class="task-score icon "></span></a><a  href="../1704.html">Network Renovation<span class="task-score icon "></span></a><a  href="../1707.html">Graph Girth<span class="task-score icon "></span></a>...
<hr />